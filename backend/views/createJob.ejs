<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/header') %>
</head>
<body>
  <div class="min-h-screen flex items-start justify-center bg-[#577BC1] pt-20 pb-20">
    <div class="max-w-md w-full bg-white p-8 rounded-lg shadow-lg">

      <% if (message) { %>
        <div class="<%= success ? 'bg-green-100 border-green-500 text-green-800' : 'bg-red-100 border-red-500 text-red-800' %> border text-center px-4 py-2 rounded mb-4">
          <%= message %>
        </div>
      <% } %>

      <h2 class="text-2xl font-bold text-center text-[#001A6E] mb-6">Post a Job</h2>

      <form action="/job/post" method="POST" class="space-y-4">
        <!-- Job Title -->
        <div>
          <label for="title" class="block text-sm font-medium text-gray-700">Job Title</label>
          <input type="text" id="title" name="title" required
            class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <!-- Job Description -->
        <div>
          <label for="description" class="block text-sm font-medium text-gray-700">Job Description</label>
          <textarea id="description" name="description" required
            class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
        </div>

        <!-- Requirements -->
        <div>
          <label for="requirements" class="block text-sm font-medium text-gray-700">Requirements (comma-separated)</label>
          <input type="text" id="requirements" name="requirements" required placeholder="e.g., JavaScript, Node.js"
            class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <!-- Salary -->
        <div>
          <label for="salary" class="block text-sm font-medium text-gray-700">Salary</label>
          <input type="number" id="salary" name="salary" required
            class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <!-- Location -->
        <div>
          <label for="location" class="block text-sm font-medium text-gray-700">Location</label>
          <input type="text" id="location" name="location" required
            class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
        </div>

        <!-- Job Type -->
        <div>
          <label for="jobType" class="block text-sm font-medium text-gray-700">Job Type</label>
          <select id="jobType" name="jobType" required
            class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="">Select</option>
            <option value="Full-Time">Full-Time</option>
            <option value="Part-Time">Part-Time</option>
            <option value="Internship">Internship</option>
            <option value="Contract">Contract</option>
          </select>
        </div>

        <!-- Experience Level -->
<div>
  <label for="experienceLevel" class="block text-sm font-medium text-gray-700">Experience Level</label>
  <select id="experienceLevel" name="experienceLevel" required
    class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
    <option value="">Select</option>
    <option value="0">Fresher</option>
    <option value="1">Mid</option>
    <option value="2">Senior</option>
  </select>
</div>

       <!-- Position -->
<div>
  <label for="position" class="block text-sm font-medium text-gray-700">Position (1: Developer, 2: Designer, etc.)</label>
  <select id="position" name="position" required
    class="w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
    <option value="">Select</option>
    <option value="1">Developer</option>
    <option value="2">Designer</option>
    <option value="3">Tester</option>
    <option value="4">Manager</option>
  </select>
</div>


        <!-- Company ID (hidden only, no manual input) -->
        <input type="hidden" id="companyId" name="companyId" value="<%= companyId %>" />

        <!-- Submit Button -->
        <div>
          <button type="submit"
            class="w-full bg-[#0A3981] text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-900 focus:outline-none focus:ring focus:ring-blue-200 mt-5">
            Submit
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Auto-hide Flash Messages -->
  <script>
    setTimeout(() => {
      const flashMessages = document.querySelectorAll('.bg-green-100, .bg-red-100');
      flashMessages.forEach((message) => {
        message.style.opacity = '0';
        setTimeout(() => message.remove(), 500);
      });
    }, 3000);
  </script>
</body>
</html>
